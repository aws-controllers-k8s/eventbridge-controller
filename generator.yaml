ignore:
  resource_names:
      - ApiDestination
      - Archive
      - Connection
      - Endpoint
      # - EventBus
      - PartnerEventSource
resources:
  EventBus:
    fields:
      Name:
        is_immutable: true
        is_required: true
      EventBusName:
        is_immutable: true
      Tags:
        compare:
          is_ignored: true
    shortNames:
      - eb
      - bus
    print:
      add_age_column: true
      add_synced_column: false
      additional_columns:
        - name: ARN
          json_path: .status.ackResourceMetadata.arn
          type: string
        - name: SYNCED
          json_path: .status.conditions[?(@.type=="ACK.ResourceSynced")].status
          type: string
    update_operation:
      custom_method_name: customUpdate
    hooks:
      delta_pre_compare:
        code: compareTags(delta, a, b)
      sdk_read_one_post_set_output:
        template_path: hooks/eventbus/sdk_read_one_post_set_output.go.tpl
    exceptions:
      errors:
        404:
          code: ResourceNotFoundException
      # no terminal code for validation errors to prevent dead-locking on delete
      # example: delete rule and bus - bus throws validation error on delete if it still has rules
      # making this terminal would leak bus resources in AWS and K8s control planes
